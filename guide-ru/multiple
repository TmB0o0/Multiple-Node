#!/bin/bash

# –¶–≤–µ—Ç–∞
GREEN="\e[32m"
WHITE="\e[97m"
RED="\e[31m"
RESET="\e[0m"

clear

# –õ–æ–≥–æ—Ç–∏–ø
echo -e "${GREEN}"
echo -e "  ##  ###  #######  ######   #######  #######  #######  ######   #######  ##  ##   #######  ###### "
echo -e "  ### ###  ##   ##  ##  ##   ##       ##         ###    ##  ##     ###    ##  ##   ##       ##  ## "
echo -e "  #######  ##   ##  ##  ##   ##       #######    ###    ##  ##     ###    ## ##    ##       ##  ## "
echo -e "  ## ####  ##  ###  ### ###  #######       ##    ###    #######    ###    #######  #######  ####### "
echo -e "  ##  ###  ##  ###  ### ###  ###      ###  ##    ###    ### ###    ###    ##  ###  ###      ### ### "
echo -e "  ##  ###  ##  ###  ### ###  # #      ###  ##    ###    ### ###    ###    ##  ###  # #      ### ### "
echo -e "  ##  ###  #######  #######  #######  #######    ###    ### ###  #######  ##  ###  #######  ### ### ${RESET}"

# –ú–µ–Ω—é
echo -e "\n${WHITE}‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó${RESET}"
echo -e "${WHITE}‚ïë       –ú–ï–ù–Æ –£–ü–†–ê–í–õ–ï–ù–ò–Ø –£–ó–õ–û–ú   ‚ïë${RESET}"
echo -e "${WHITE}‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù${RESET}\n"

echo -e "üöÄ 1) –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —É–∑–µ–ª"
echo -e "üîÑ 2) –û–±–Ω–æ–≤–∏—Ç—å —É–∑–µ–ª"
echo -e "üß® 3) –£–¥–∞–ª–∏—Ç—å —É–∑–µ–ª"
echo -e "‚ùå 0) –í—ã—Ö–æ–¥"
read -p "–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é: " choice

if [ "$choice" == "1" ]; then
  echo -e "${GREEN}–ó–∞–≥—Ä—É–∑–∫–∞ –∏ –∑–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–æ–≤...${RESET}"

  wget https://mdeck-download.s3.us-east-1.amazonaws.com/client/linux/install.sh -O install.sh
  source ./install.sh

  wget https://mdeck-download.s3.us-east-1.amazonaws.com/client/linux/update.sh -O update.sh
  source ./update.sh

  wget https://mdeck-download.s3.us-east-1.amazonaws.com/client/linux/start.sh -O start.sh
  source ./start.sh

  echo -e "\n${WHITE}–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è multiple-cli bind:${RESET}"
  read -p "–°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ (Download): " bandwidth_download
  read -p "–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (Identifier): " identifier
  read -p "PIN-–∫–æ–¥: " pin
  read -p "–•—Ä–∞–Ω–∏–ª–∏—â–µ (GB): " storage
  read -p "–°–∫–æ—Ä–æ—Å—Ç—å –æ—Ç–¥–∞—á–∏ (Upload): " bandwidth_upload

  echo -e "${GREEN}–ü—Ä–∏–≤—è–∑–∫–∞ —É–∑–ª–∞...${RESET}"
  multiple-cli bind --bandwidth-download "$bandwidth_download" --identifier "$identifier" --pin "$pin" --storage "$storage" --bandwidth-upload "$bandwidth_upload"

  echo -e "${GREEN}‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞.${RESET}"

elif [ "$choice" == "2" ]; then
  echo -e "${GREEN}–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É–∑–ª–∞...${RESET}"

  wget https://mdeck-download.s3.us-east-1.amazonaws.com/client/linux/update.sh -O update.sh
  source ./update.sh

  wget https://mdeck-download.s3.us-east-1.amazonaws.com/client/linux/start.sh -O start.sh
  source ./start.sh

  echo -e "${GREEN}‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ.${RESET}"

elif [ "$choice" == "3" ]; then
  echo -e "${RED}‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–∏—Ç –≤–∞—à —É–∑–µ–ª –∏ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ!${RESET}"
  read -p "–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å? (y/n): " confirm
  if [ "$confirm" == "y" ] || [ "$confirm" == "Y" ]; then
    echo -e "${RED}–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∏ —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤...${RESET}"

    pkill -f multiple || true
    rm -rf ~/.multiple
    rm -f /usr/local/bin/multiple-cli
    rm -f install.sh update.sh start.sh

    echo -e "${GREEN}üßπ –£–∑–µ–ª —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª—ë–Ω.${RESET}"
  else
    echo "–£–¥–∞–ª–µ–Ω–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ."
  fi

elif [ "$choice" == "0" ]; then
  echo "üëã –í—ã—Ö–æ–¥..."
  exit 0
else
  echo -e "${RED}‚ùó –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä.${RESET}"
  exit 1
fi
